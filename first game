-- Gui to Lua
-- Version: 3.2
local Library = {}
-- Random UI Name
local LibraryName = tostring(math.random(100000,200000))..tostring(math.random(100000,200000))..tostring(math.random(100000,200000))

function Library:Toggle()
	if game.CoreGui:FindFirstChild(LibraryName).Enabled then 
		game.CoreGui:FindFirstChild(LibraryName).Enabled = false
	else 
		game.CoreGui:FindFirstChild(LibraryName).Enabled = true
	end
end

function Library:Drag(obj)
	local UserInputService = game:GetService("UserInputService")

	local gui = obj

	local dragging
	local dragInput
	local dragStart
	local startPos

	local function update(input)
		local delta = input.Position - dragStart
		gui.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
	end

	gui.InputBegan:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
			dragging = true
			dragStart = input.Position
			startPos = gui.Position

			input.Changed:Connect(function()
				if input.UserInputState == Enum.UserInputState.End then
					dragging = false
				end
			end)
		end
	end)

	gui.InputChanged:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
			dragInput = input
		end
	end)

	UserInputService.InputChanged:Connect(function(input)
		if input == dragInput and dragging then
			update(input)
		end
	end)
end
-- Instances:
function Library:Create(xHubName)
local xHubName = xHubName or "UI Library"
local ScriptGui = Instance.new("ScreenGui")
local Menu = Instance.new("Frame")
local UICorner = Instance.new("UICorner")
local shadowHolder = Instance.new("Frame")
local umbraShadow = Instance.new("ImageLabel")
local penumbraShadow = Instance.new("ImageLabel")
local ambientShadow = Instance.new("ImageLabel")
local Topbar = Instance.new("Frame")
local UICorner_2 = Instance.new("UICorner")
local Close = Instance.new("ImageButton")
local UICorner_3 = Instance.new("UICorner")
local ImageLabel = Instance.new("ImageLabel")
local UIScale = Instance.new("UIScale")
local Minimize = Instance.new("ImageButton")
local UICorner_4 = Instance.new("UICorner")
local ImageLabel_2 = Instance.new("ImageLabel")
local UIScale_2 = Instance.new("UIScale")
local Title = Instance.new("TextButton")
local UIPadding = Instance.new("UIPadding")
local TabHolder = Instance.new("Frame")
local Tabs = Instance.new("Folder")
local pages = Instance.new("ScrollingFrame")
local pageListLayout = Instance.new("UIListLayout")

--Properties:

	ScriptGui.Parent = game.CoreGui
	ScriptGui.ResetOnSpawn = false 
	ScriptGui.Name = LibraryName
	
	function ScrollSize()
		pages.CanvasSize = UDim2.new(0, 0, 0, pageListLayout.AbsoluteContentSize.Y)
	end


Menu.Name = "Menu"
Menu.Parent = ScriptGui
Menu.BackgroundColor3 = Color3.fromRGB(29, 29, 29)
Menu.BorderColor3 = Color3.fromRGB(27, 42, 53)
Menu.BorderSizePixel = 0
Menu.Position = UDim2.new(0.254999995, 0, 0.131999984, 0)
Menu.Size = UDim2.new(0, 541, 0, 351)

UICorner.CornerRadius = UDim.new(0, 5)
UICorner.Parent = Menu

shadowHolder.Name = "shadowHolder"
shadowHolder.Parent = Menu
shadowHolder.BackgroundTransparency = 1.000
shadowHolder.Size = UDim2.new(1, 0, 1, 0)
shadowHolder.ZIndex = 0

umbraShadow.Name = "umbraShadow"
umbraShadow.Parent = shadowHolder
umbraShadow.AnchorPoint = Vector2.new(0.5, 0.5)
umbraShadow.BackgroundTransparency = 1.000
umbraShadow.Position = UDim2.new(0.5, 0, 0.501075268, 0)
umbraShadow.Size = UDim2.new(1.00384617, 10, 1.00645161, 10)
umbraShadow.ZIndex = 0
umbraShadow.Image = "rbxassetid://1316045217"
umbraShadow.ImageColor3 = Color3.fromRGB(0, 0, 0)
umbraShadow.ImageTransparency = 0.860
umbraShadow.ScaleType = Enum.ScaleType.Slice
umbraShadow.SliceCenter = Rect.new(10, 10, 118, 118)

penumbraShadow.Name = "penumbraShadow"
penumbraShadow.Parent = shadowHolder
penumbraShadow.AnchorPoint = Vector2.new(0.5, 0.5)
penumbraShadow.BackgroundTransparency = 1.000
penumbraShadow.Position = UDim2.new(0.5, 0, 0.501075268, 0)
penumbraShadow.Size = UDim2.new(1.00384617, 10, 1.00645161, 10)
penumbraShadow.ZIndex = 0
penumbraShadow.Image = "rbxassetid://1316045217"
penumbraShadow.ImageColor3 = Color3.fromRGB(0, 0, 0)
penumbraShadow.ImageTransparency = 0.880
penumbraShadow.ScaleType = Enum.ScaleType.Slice
penumbraShadow.SliceCenter = Rect.new(10, 10, 118, 118)

ambientShadow.Name = "ambientShadow"
ambientShadow.Parent = shadowHolder
ambientShadow.AnchorPoint = Vector2.new(0.5, 0.5)
ambientShadow.BackgroundTransparency = 1.000
ambientShadow.Position = UDim2.new(0.5, 0, 0.501075268, 0)
ambientShadow.Size = UDim2.new(1.00384617, 10, 1.00645161, 10)
ambientShadow.ZIndex = 0
ambientShadow.Image = "rbxassetid://1316045217"
ambientShadow.ImageColor3 = Color3.fromRGB(0, 0, 0)
ambientShadow.ImageTransparency = 0.880
ambientShadow.ScaleType = Enum.ScaleType.Slice
ambientShadow.SliceCenter = Rect.new(10, 10, 118, 118)

Topbar.Name = "Topbar"
Topbar.Parent = Menu
Topbar.BackgroundColor3 = Color3.fromRGB(29, 29, 29)
Topbar.Size = UDim2.new(0, 541, 0, 36)

UICorner_2.CornerRadius = UDim.new(0, 5)
UICorner_2.Parent = Topbar

Close.Name = "Close"
Close.Parent = Topbar
Close.Active = false
Close.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
Close.BackgroundTransparency = 1.000
Close.Position = UDim2.new(0.940269768, 0, 0.194444448, 0)
Close.Selectable = false
Close.Size = UDim2.new(0, 21, 0, 21)

UICorner_3.CornerRadius = UDim.new(0, 4)
UICorner_3.Parent = Close

ImageLabel.Parent = Close
ImageLabel.AnchorPoint = Vector2.new(0.5, 0.5)
ImageLabel.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
ImageLabel.BackgroundTransparency = 1.000
ImageLabel.Position = UDim2.new(0.5, 1, 0.5, 0)
ImageLabel.Size = UDim2.new(0, 21, 0, 21)
ImageLabel.Image = "rbxassetid://7743878857"
ImageLabel.ImageColor3 = Color3.fromRGB(134, 134, 134)

UIScale.Parent = ImageLabel
UIScale.Scale = 0.700

Minimize.Name = "Minimize"
Minimize.Parent = Topbar
Minimize.Active = false
Minimize.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
Minimize.BackgroundTransparency = 1.000
Minimize.Position = UDim2.new(0.892100215, 0, 0.194444448, 0)
Minimize.Selectable = false
Minimize.Size = UDim2.new(0, 21, 0, 21)

UICorner_4.CornerRadius = UDim.new(0, 4)
UICorner_4.Parent = Minimize

ImageLabel_2.Parent = Minimize
ImageLabel_2.AnchorPoint = Vector2.new(0.5, 0.5)
ImageLabel_2.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
ImageLabel_2.BackgroundTransparency = 1.000
ImageLabel_2.Position = UDim2.new(0.5, 0, 0.5, 0)
ImageLabel_2.Size = UDim2.new(0, 21, 0, 21)
ImageLabel_2.Image = "rbxassetid://7733997870"
ImageLabel_2.ImageColor3 = Color3.fromRGB(134, 134, 134)

UIScale_2.Parent = ImageLabel_2
UIScale_2.Scale = 0.600

Title.Name = "Title"
Title.Parent = Topbar
Title.Active = false
Title.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
Title.BackgroundTransparency = 1.000
Title.Position = UDim2.new(0.00192678231, 0, 0, 0)
Title.Selectable = false
Title.Size = UDim2.new(0, 200, 0, 36)
Title.Font = Enum.Font.GothamMedium
Title.Text = xHubName
Title.TextColor3 = Color3.fromRGB(161, 161, 161)
Title.TextSize = 13.000
Title.TextXAlignment = Enum.TextXAlignment.Left

UIPadding.Parent = Title
UIPadding.PaddingLeft = UDim.new(0, 10)

TabHolder.Name = "TabHolder"
TabHolder.Parent = Menu
TabHolder.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
TabHolder.BackgroundTransparency = 1.000
TabHolder.BorderColor3 = Color3.fromRGB(0, 0, 0)
TabHolder.BorderSizePixel = 0
TabHolder.Position = UDim2.new(0.00184842886, 0, 0.102564104, 0)
TabHolder.Size = UDim2.new(0, 160, 0, 315)

Tabs.Name = "Tabs"
Tabs.Parent = TabHolder

pages.Name = "pages"
pages.Parent = Menu
pages.Active = true
pages.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
pages.BackgroundTransparency = 1.000
pages.BorderColor3 = Color3.fromRGB(0, 0, 0)
pages.BorderSizePixel = 0
pages.Position = UDim2.new(0.340110898, 0, 0.102564104, 0)
pages.Size = UDim2.new(0, 357, 0, 315)
pages.ScrollBarThickness = 6

pageListLayout.Name = "pageListLayout"
pageListLayout.Parent = pages
	pageListLayout.SortOrder = Enum.SortOrder.LayoutOrder
	
	Library:Drag(Menu)
	
	local xTabs = {}
	
	function xTabs:Tab(Name)
		-- Create a new tab button
		local TabButton = Instance.new("TextButton")
		TabButton.Name = Name
		TabButton.Parent = Tabs
		TabButton.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
		TabButton.BorderSizePixel = 0
		TabButton.Size = UDim2.new(1, 0, 0, 30)
		TabButton.Font = Enum.Font.Gotham
		TabButton.Text = Name
		TabButton.TextColor3 = Color3.fromRGB(255, 255, 255)
		TabButton.TextSize = 14
		TabButton.MouseButton1Click:Connect(function()
			-- Handle tab click event, you can switch pages or perform other actions here
			print("Tab clicked: " .. Name)
		end)

		-- Create a corresponding page for the tab
		local Page = Instance.new("Frame")
		Page.Name = Name .. "Page"
		Page.Parent = pages
		Page.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
		Page.BackgroundTransparency = 1
		Page.Size = UDim2.new(1, 0, 1, 0)

		-- Add UI elements or content to the page as needed

		-- Example: Add a label to the page
		local Label = Instance.new("TextLabel")
		Label.Parent = Page
		Label.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
		Label.Size = UDim2.new(1, 0, 1, 0)
		Label.Text = "This is the content of " .. Name .. " tab."
	end
	
	local Elements = {}

	function Elements:Button(Name, Callback)
		local ButtonFunction = {}
		local Callback = Callback or function() end

		local ButtonFrame = Instance.new("Frame")
		local ButtonFrameCorner = Instance.new("UICorner")
		local Button = Instance.new("TextButton")
		local ButtonCorner = Instance.new("UICorner")
		local ButtonPadding = Instance.new("UIPadding")

		ButtonFrame.Name = tostring(Name) .. "_Button"
		ButtonFrame.Parent = Tabs -- Change the parent to the appropriate folder
		ButtonFrame.BackgroundColor3 = Color3.fromRGB(40, 42, 60)
		ButtonFrame.Size = UDim2.new(0, 408, 0, 35)

		ButtonFrameCorner.Name = "ButtonFrameCorner"
		ButtonFrameCorner.Parent = ButtonFrame

		Button.Name = "Button"
		Button.Parent = ButtonFrame
		Button.BackgroundColor3 = Color3.fromRGB(40, 42, 60)
		Button.Size = UDim2.new(0, 408, 0, 35)
		Button.Font = Enum.Font.Gotham
		Button.TextColor3 = Color3.fromRGB(255, 255, 255)
		Button.TextSize = 16.000
		Button.Text = Name
		Button.TextXAlignment = Enum.TextXAlignment.Left
		Button.ZIndex = 2

		ButtonCorner.Name = "ButtonCorner"
		ButtonCorner.Parent = Button

		ButtonPadding.Name = "ButtonPadding"
		ButtonPadding.Parent = Button
		ButtonPadding.PaddingLeft = UDim.new(0, 10)

		Button.MouseButton1Down:Connect(function()
			game:GetService("TweenService"):Create(Button, TweenInfo.new(0.1, Enum.EasingStyle.Linear, Enum.EasingDirection.In), {
				BackgroundColor3 = Color3.fromRGB(55, 74, 251)
			}):Play()
			wait(0.1)
			game:GetService("TweenService"):Create(Button, TweenInfo.new(0.1, Enum.EasingStyle.Linear, Enum.EasingDirection.In), {
				BackgroundColor3 = Color3.fromRGB(40, 42, 60)
			}):Play()
			pcall(Callback)
		end)

		Button.MouseEnter:Connect(function()
			game:GetService("TweenService"):Create(Button, TweenInfo.new(0.1, Enum.EasingStyle.Linear, Enum.EasingDirection.In), {
				BackgroundColor3 = Color3.fromRGB(48, 51, 70)
			}):Play()
		end)
		Button.MouseLeave:Connect(function()
			game:GetService("TweenService"):Create(Button, TweenInfo.new(0.1, Enum.EasingStyle.Linear, Enum.EasingDirection.In), {
				BackgroundColor3 = Color3.fromRGB(40, 42, 60)
			}):Play()
		end)

		function ButtonFunction:UpdateButton(NewName)
			Button.Text = NewName
			ButtonFrame.Name = tostring(NewName) .. "_Button"
		end

		return ButtonFunction
	end
	return Elements
end
return xTabs
end
return Library
	-- Example usage:
	--local myButton = Elements:Button("Click Me", function()
		--print("Button clicked!")
	--end)

	--myButton:UpdateButton("New Label")
